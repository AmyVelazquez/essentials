<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Your Page Title</title>
    <meta name="description" content="Description of your webpage" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <header>
      <!-- NAV BAR -->
    </header>

    <main>
      <h1>Have a question? We have answers.</h1>
      <p>
        Have a question about our services?
        <br />
        Is there a problem we can help you resolve?
        <br />
        Would you like Jared Spool to give a private workshop or a presentation
        to your team?
        <br />
        We’d love to hear from you. Let us know how we can help.
      </p>
      <p>
        We’ll answer as quickly as we can. We’re a small team that works from
        8:30 am to 5:30 pm U.S. Eastern Time on Monday through Friday.
      </p>
      <p>
        It may take us until our next business day to get an answer to you. Rest
        assured, we will respond to every message we get.
      </p>

      <form id="contact_form">
        <input type="text" placeholder="First Name" id="fname_input" required />
        <input type="text" placeholder="Last Name" id="lname_input" required />
        <input type="email" placeholder="Email" id="email_input" required />

        <div>
          <input type="checkbox" id="loa_topic" name="topic" value="loa" />
          <label for="loa_topic">Center Centre or Leaders of Awesomeness.</label
          ><br />
          <input
            type="checkbox"
            id="jared_presenting_topic"
            name="topic"
            value="jared_presenting"
          />
          <label for="jared_presenting_topic"
            >I’m interested in Jared presenting to my team.</label
          ><br />

          <input type="checkbox" id="win_topic" name="topic" value="win" />
          <label for="win_topic"
            >How to Win Stakeholders & Influence Decisions program. </label
          ><br />

          <input type="checkbox" id="agile_topic" name="topic" value="agile" />
          <label for="agile_topic">Taking Control of Agile UX Intensive. </label
          ><br />

          <input
            type="checkbox"
            id="metrics_topic"
            name="topic"
            value="metrics"
          />
          <label for="metrics_topic"
            >UX Metrics Your Stakeholders Can’t Ignore Intensive.</label
          ><br />

          <input
            type="checkbox"
            id="research_topic"
            name="topic"
            value="research"
          />
          <label for="research_topic"
            >Advanced Approaches to UX Research Intensive.</label
          ><br />

          <input
            type="checkbox"
            id="essentials_topic"
            name="topic"
            value="essentials"
          />
          <label for="essentials_topic">UX Strategy Essentials Series. </label
          ><br />

          <input
            type="checkbox"
            id="notsure_topic"
            name="topic"
            value="not_sure"
          />
          <label for="notsure_topic">I’m not sure. </label><br />
        </div>

        <textarea placeholder="Message*" id="message_input" required></textarea>

        <button type="submit">Submit message</button>
      </form>

      <script>
        const form = document.getElementById("contact_form");
        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          const checkboxes = Array.from(
            document.querySelectorAll('input[type="checkbox"]:checked')
          ).map((checkbox) => checkbox.value);

          const formData = {
            site: "CenterCentre",
            first_name: document.getElementById("fname_input").value.trim(),
            last_name: document.getElementById("lname_input").value.trim(),
            email: document.getElementById("email_input").value.trim(),
            topic: checkboxes,
            message: document.getElementById("message_input").value.trim(),
          };

          try {
            const req = await fetch(
              "https://hooks.zapier.com/hooks/catch/9280923/3zdcbrw/",
              { method: "POST", body: JSON.stringify(formData) }
            );

            const res = await req.json();

            if (req.ok) {
              alert("Successfully sent form!");
              console.log(res);
            } else {
              alert("Form was not sent. Error.");
              console.log(res);
            }
          } catch (err) {
            console.log(err);
            alert("There was an error while submitting the form");
          }
        });
      </script>
    </main>

    <footer>
      <!-- FOOTER -->
    </footer>
  </body>
</html>
